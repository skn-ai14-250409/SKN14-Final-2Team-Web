{% extends "scentpick/base.html" %}
{% block title %}ë§ì¶¤ ì¶”ì²œ - ScentPick{% endblock %}
{% block content %}

<h2 style="margin-bottom:30px;color:#2d3748;">ë§ì¶¤ í–¥ìˆ˜ ì¶”ì²œ</h2>

<div class="recommend-container">
  <!-- ì˜¤ëŠ˜ì˜ ë‚ ì”¨ ê¸°ë°˜ ì¶”ì²œ -->
  <div class="weather-recommend">
    <h3 style="margin-bottom:20px;">ì˜¤ëŠ˜ì˜ ë‚ ì”¨ ê¸°ë°˜ ì¶”ì²œ</h3>
    <div style="background:#f7fafc;padding:20px;border-radius:10px;margin-bottom:20px;">
      <div style="display:flex;align-items:center;gap:15px;margin-bottom:15px;">
        <div style="font-size:32px;">ğŸŒ¤ï¸</div>
        <div>
          <div style="font-size:18px;font-weight:600;">ë§‘ìŒ, 22Â°C</div>
          <div style="color:#718096;">ìŠµë„ 45%, ë°”ëŒ ì•½í•¨</div>
        </div>
      </div>
      <p style="color:#4a5568;">ìƒì¾Œí•˜ê³  ì‹œì›í•œ ì‹œíŠ¸ëŸ¬ìŠ¤ ê³„ì—´ì´ë‚˜ ì•„ì¿ ì•„í‹± ë…¸íŠ¸ê°€ ì–´ìš¸ë ¤ìš”!</p>
    </div>

    <div class="products-grid">
      <a href="{% url 'scentpick:product_detail' slug='acqua-di-parma-colonia' %}" class="product-card" style="text-decoration:none;color:inherit;">
        <div class="product-image"></div>
        <div class="product-info">
          <div class="product-brand">Acqua di Parma</div>
          <div class="product-name">ì½œë¡œë‹ˆì•„</div>
          <div class="product-price">â‚©180,000</div>
        </div>
      </a>

      <a href="{% url 'scentpick:product_detail' slug='hermes-un-jardin-sur-le-toit' %}" class="product-card" style="text-decoration:none;color:inherit;">
        <div class="product-image"></div>
        <div class="product-info">
          <div class="product-brand">HermÃ¨s</div>
          <div class="product-name">ìš´ ìë¥´ë‹¹ ì‰¬ë¥´ ë¥´ í† ì™€</div>
          <div class="product-price">â‚©220,000</div>
        </div>
      </a>
    </div>
  </div>

  <!-- 20ëŒ€ ë‚¨ì„± ë§ì¶¤ ì¶”ì²œ -->
  <div class="weather-recommend">
    <h3 style="margin-bottom:20px;">20ëŒ€ ë‚¨ì„± ë§ì¶¤ ì¶”ì²œ</h3>
    <div style="background:#f7fafc;padding:20px;border-radius:10px;margin-bottom:20px;">
      <p style="color:#4a5568;">í™œë™ì ì´ê³  ì Šì€ ì—ë„ˆì§€ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆëŠ” í”„ë ˆì‹œí•˜ê³  ìŠ¤í¬í‹°í•œ í–¥ìˆ˜ë“¤ì„ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤.</p>
    </div>

    <div class="products-grid">
      <a href="{% url 'scentpick:product_detail' slug='bleu-de-chanel' %}" class="product-card" style="text-decoration:none;color:inherit;">
        <div class="product-image"></div>
        <div class="product-info">
          <div class="product-brand">Chanel</div>
          <div class="product-name">ë¸”ë£¨ ë“œ ìƒ¤ë„¬</div>
          <div class="product-price">â‚©165,000</div>
        </div>
      </a>

      <a href="{% url 'scentpick:product_detail' slug='dior-sauvage' %}" class="product-card" style="text-decoration:none;color:inherit;">
        <div class="product-image"></div>
        <div class="product-info">
          <div class="product-brand">Dior</div>
          <div class="product-name">ì†Œë°”ì¥¬</div>
          <div class="product-price">â‚©145,000</div>
        </div>
      </a>
    </div>
  </div>
</div>

<!-- íŠ¸ë Œë“œ ë¶„ì„ -->
<div class="analysis-section">
  <h3 style="margin-bottom:20px;">í–¥ìˆ˜ íŠ¸ë Œë“œ ë¶„ì„</h3>
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:40px;">
    <div>
      <h4 style="margin-bottom:15px;">ì¡°íšŒìˆ˜ TOP 5</h4>
      <div class="chart-placeholder">ì¡°íšŒìˆ˜ ì°¨íŠ¸</div>
      <ul class="top-list">
        <li><div class="rank">1</div><span>ìƒ¤ë„¬ ë¸”ë£¨ ë“œ ìƒ¤ë„¬</span><span>2,847 views</span></li>
        <li><div class="rank">2</div><span>ë””ì˜¬ ì†Œë°”ì¥¬</span><span>2,156 views</span></li>
        <li><div class="rank">3</div><span>í†°í¬ë“œ ì˜´ë¯€</span><span>1,923 views</span></li>
        <li><div class="rank">4</div><span>í¬ë¦¬ë“œ ì•„ë²¤íˆ¬ìŠ¤</span><span>1,788 views</span></li>
        <li><div class="rank">5</div><span>ì¡° ë§ë¡  ìš°ë“œ ì„¸ì´ì§€</span><span>1,654 views</span></li>
      </ul>
    </div>
    <div>
      <h4 style="margin-bottom:15px;">ì¸ê¸° ë©”ì¸ ì–´ì½”ë“œ TOP 5</h4>
      <div class="chart-placeholder">ì–´ì½”ë“œ ì°¨íŠ¸</div>
      <ul class="top-list">
        <li><div class="rank">1</div><span>Fresh Spicy</span><span>18.5%</span></li>
        <li><div class="rank">2</div><span>Woody</span><span>16.2%</span></li>
        <li><div class="rank">3</div><span>Citrus</span><span>14.8%</span></li>
        <li><div class="rank">4</div><span>Aromatic</span><span>12.4%</span></li>
        <li><div class="rank">5</div><span>Oriental</span><span>10.9%</span></li>
      </ul>
    </div>
  </div>
</div>

{% endblock content %}

{% block script %}
<script>
  (() => {
    // ì˜ˆ: "ì¡°íšŒìˆ˜ TOP 5" / "ì¸ê¸° ë©”ì¸ ì–´ì½”ë“œ TOP 5"ì— ê°€ì§œ ë§‰ëŒ€ ê¸¸ì´ ë¶€ì—¬
    const chartBoxes = document.querySelectorAll(".analysis-section .chart-placeholder");
    if (!chartBoxes.length) return;

    chartBoxes.forEach((box, idx) => {
      box.style.display = "grid";
      box.style.alignItems = "end";
      box.style.gridTemplateColumns = "repeat(5, 1fr)";
      box.style.gap = "8px";
      box.style.height = "120px";
      const heights = idx === 0 ? [100, 76, 68, 62, 55] : [80, 70, 64, 54, 48]; // ëŒ€ì¶© ì˜ˆì‹œ
      heights.forEach(h => {
        const bar = document.createElement("div");
        bar.style.height = h + "px";
        bar.style.borderRadius = "6px";
        bar.style.background = "linear-gradient(135deg,#6366f1,#7c3aed)";
        box.appendChild(bar);
      });
    });
  })();
</script>
{% endblock script %}